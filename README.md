# Maze Solver AI - حل المتاهات بالذكاء الاصطناعي

## نظرة عامة

تطبيق ويب تفاعلي لتصور خوارزميات حل المتاهات باستخدام **بنيات بيانات مختلفة** (Stack, Queue, Linked List). يعرض خطوات البحث خطوة بخطوة بطريقة مرئية وواضحة مع إمكانية اختيار نوع البنية المستخدمة.

---

## البنية التقنية

### الواجهة الأمامية (Frontend)
- **React 18** + **TypeScript** - واجهة المستخدم
- **Vite** - أداة البناء والتطوير
- **Tailwind CSS** - التصميم والتنسيق
- **Radix UI** - مكونات واجهة المستخدم
- **Framer Motion** - الرسوم المتحركة
- **Wouter** - التوجيه (Routing)

### الخلفية (Backend)
- **Express.js** - إطار عمل السيرفر
- **Node.js** + **TypeScript** - بيئة التشغيل
- **Vite** - Hot Module Replacement في وضع التطوير

---

## المكونات الرئيسية

### 1. MazeSolverApp (`client/src/components/MazeSolverApp.tsx`)
المكون الرئيسي الذي يجمع كل الأجزاء معاً:
- يعرض الشبكة (Grid)
- لوحة التحكم (Control Panel)
- لوحة الإحصائيات (Statistics Dashboard)
- تصور الـ Stack
- اختيار المتاهات الجاهزة

### 2. MazeGrid (`client/src/components/MazeGrid.tsx`)
يعرض المتاهة كشبكة تفاعلية من الخلايا.

**حالات الخلايا:**
- `empty` - خلية فارغة (يمكن المرور منها)
- `wall` - جدار (لا يمكن المرور)
- `start` - نقطة البداية (الخضراء)
- `end` - نقطة النهاية (الحمراء)
- `visited` - خلية تمت زيارتها (أزرق فاتح)
- `current` - الخلية الحالية (أزرق داكن)
- `path` - جزء من المسار النهائي (أخضر)
- `backtracked` - خلية تم التراجع عنها (رمادي)

### 3. useMazeSolver (`client/src/hooks/use-maze-solver.ts`)
هذا الـ Hook يحتوي على كل منطق الخوارزمية.

**الوظائف الرئيسية:**
- `startAlgorithm()` - بدء البحث
- `pauseAlgorithm()` - إيقاف مؤقت
- `stepForward()` - خطوة واحدة للأمام
- `reset()` - إعادة تعيين المتاهة
- `toggleCell()` - تبديل حالة الخلية (جدار/فارغة)
- `setStartPosition()` - تعيين نقطة البداية
- `setEndPosition()` - تعيين نقطة النهاية
- `loadPreset()` - تحميل متاهة جاهزة
- `clearMaze()` - مسح المتاهة

### 4. ControlPanel (`client/src/components/ControlPanel.tsx`)
لوحة التحكم الرئيسية:
- أزرار التشغيل والإيقاف
- زر الخطوة للأمام
- زر إعادة التعيين
- شريط تعديل السرعة
- زر مسح المتاهة

### 5. StatsDashboard (`client/src/components/StatsDashboard.tsx`)
يعرض إحصائيات مباشرة عن أداء الخوارزمية:
- **Steps Taken** - عدد الخطوات المأخوذة
- **Backtracks** - عدد المرات التي تم التراجع فيها
- **Cells Visited** - عدد الخلايا المزارة
- **Path Length** - طول المسار النهائي
- **Time Elapsed** - الوقت المنقضي

### 6. DataStructureSelector (`client/src/components/DataStructureSelector.tsx`)
يسمح باختيار نوع البنية المستخدمة:
- **Stack** - DFS (Depth-First Search) - LIFO
- **Queue** - BFS (Breadth-First Search) - FIFO
- **Linked List** - Sequential Traversal

### 7. StackVisualization (`client/src/components/StackVisualization.tsx`)
يعرض محتويات الـ Stack بشكل مرئي:
- يوضح المسار الحالي
- يظهر التراجع عند الوصول لطريق مسدود
- يعرض آخر 8-10 عناصر في الـ Stack

### 8. QueueVisualization (`client/src/components/QueueVisualization.tsx`)
يعرض محتويات الـ Queue بشكل مرئي:
- يوضح Front (Dequeue) و Rear (Enqueue)
- يعرض العناصر بالترتيب FIFO
- يبرز العنصر الأول والأخير

### 9. LinkedListVisualization (`client/src/components/LinkedListVisualization.tsx`)
يعرض محتويات الـ Linked List بشكل مرئي:
- يوضح Head و Tail
- يعرض الروابط بين العقد
- يظهر الترتيب التسلسلي

### 10. PresetSelector (`client/src/components/PresetSelector.tsx`)
يسمح باختيار متاهات جاهزة:
- **Simple Path** - مسار بسيط
- **Dead Ends** - متاهة بطرق مسدودة متعددة
- **Spiral** - متاهة حلزونية
- **Complex Maze** - متاهة معقدة

### 11. Legend (`client/src/components/Legend.tsx`)
يوضح معنى الألوان والرموز المستخدمة في المتاهة.

### 12. ThemeToggle (`client/src/components/ThemeToggle.tsx`)
تبديل بين الوضع الليلي والنهاري.

---

## كيف تعمل الخوارزميات

### 1. Stack - Depth-First Search (DFS) - البحث بالعمق أولاً

1. **البداية:**
   - يتم إضافة نقطة البداية إلى الـ Stack
   - يتم تعليمها كمزارة

2. **التكرار:**
   - أخذ الخلية الحالية من أعلى الـ Stack
   - البحث عن جار صالح (يمين، أسفل، يسار، أعلى)
   - إذا وُجد جار صالح:
     - إضافته للـ Stack
     - تعليمه كمزار
     - المتابعة للخلية الجديدة
   - إذا لم يوجد جار صالح:
     - التراجع (pop من الـ Stack)
     - العودة للخلية السابقة

3. **النهاية:**
   - عند الوصول لنقطة النهاية: تم العثور على المسار ✅
   - إذا أصبح الـ Stack فارغاً: لا يوجد مسار ❌

**مثال توضيحي:**
```
البداية: [Start]
الخطوة 1: [Start, (1,0)]
الخطوة 2: [Start, (1,0), (2,0)]
الخطوة 3: [Start, (1,0), (2,0), (2,1)]  ← طريق مسدود
التراجع: [Start, (1,0), (2,0)]  ← pop آخر عنصر
الخطوة 4: [Start, (1,0), (2,0), (3,0)]  ← جرب اتجاه آخر
... وهكذا حتى الوصول للنهاية
```

### 2. Queue - Breadth-First Search (BFS) - البحث بالعرض أولاً

1. **البداية:**
   - يتم إضافة نقطة البداية إلى الـ Queue
   - يتم تعليمها كمزارة

2. **التكرار:**
   - أخذ الخلية الحالية من **أمام** الـ Queue (Dequeue)
   - إضافة **جميع** الجيران الصالحين إلى **نهاية** الـ Queue (Enqueue)
   - تعليمهم كمزارين
   - المتابعة للخلية التالية من الأمام

3. **النهاية:**
   - عند الوصول لنقطة النهاية: تم العثور على المسار ✅
   - إذا أصبح الـ Queue فارغاً: لا يوجد مسار ❌

**مثال توضيحي:**
```
البداية: Queue = [(0,0)]
الخطوة 1: Dequeue (0,0), Enqueue [(1,0), (0,1)]
الخطوة 2: Dequeue (1,0), Enqueue [(0,1), (2,0), (1,1)]
الخطوة 3: Dequeue (0,1), Enqueue [(2,0), (1,1), (0,2)]
... يستكشف كل المستوى قبل الانتقال للمستوى التالي
```

### 3. Linked List - Sequential Traversal

1. **البداية:**
   - يتم إضافة نقطة البداية كعقدة Head
   - يتم تعليمها كمزارة

2. **التكرار:**
   - أخذ العقدة الحالية من Tail
   - البحث عن جار صالح
   - إضافة الجار كعقدة جديدة في Tail
   - ربطها بالعقدة السابقة
   - إذا لم يوجد جار: حذف العقدة الحالية (Backtrack)

3. **النهاية:**
   - عند الوصول لنقطة النهاية: تم العثور على المسار ✅
   - إذا أصبح الـ Linked List فارغاً: لا يوجد مسار ❌

---

## الميزات الرئيسية

### 1. اختيار نوع البنية
- **Stack (DFS)**: استكشاف عميق للمسارات
- **Queue (BFS)**: استكشاف المستويات بشكل متساوٍ
- **Linked List**: اجتياز تسلسلي مع روابط مرئية

### 2. التحرير التفاعلي
- **النقر على خلية**: تبديل بين جدار/فارغة
- **Shift + Click**: تعيين نقطة البداية
- **Alt + Click**: تعيين نقطة النهاية
- **Drag**: رسم جدران متعددة

### 3. التحكم في السرعة
- شريط تمرير لتعديل سرعة التنفيذ
- من بطيء جداً إلى سريع جداً
- يسمح بمراقبة كل خطوة بالتفصيل

### 4. التصور المرئي
- ألوان مختلفة لكل حالة
- عرض مباشر للـ Stack
- إحصائيات محدثة في الوقت الفعلي
- رسوم متحركة سلسة

### 5. الوضع الليلي/النهاري
- تبديل سهل بين الأوضاع
- يحفظ التفضيلات

### 6. متاهات جاهزة
- 4 متاهات مختلفة للاختيار
- من البسيطة إلى المعقدة

---

## هيكل المشروع

```
Maze-Solver-AI/
├── client/                    # الواجهة الأمامية
│   ├── src/
│   │   ├── components/        # المكونات
│   │   │   ├── MazeSolverApp.tsx      # المكون الرئيسي
│   │   │   ├── MazeGrid.tsx           # شبكة المتاهة
│   │   │   ├── ControlPanel.tsx       # لوحة التحكم
│   │   │   ├── StatsDashboard.tsx     # لوحة الإحصائيات
│   │   │   ├── StackVisualization.tsx # تصور الـ Stack
│   │   │   ├── PresetSelector.tsx     # اختيار المتاهات
│   │   │   ├── Legend.tsx             # دليل الألوان
│   │   │   ├── ThemeToggle.tsx         # تبديل الوضع
│   │   │   └── ui/                     # مكونات UI من Radix
│   │   ├── hooks/
│   │   │   └── use-maze-solver.ts      # منطق الخوارزمية
│   │   ├── lib/
│   │   │   ├── maze-types.ts           # أنواع البيانات
│   │   │   ├── maze-presets.ts         # المتاهات الجاهزة
│   │   │   └── utils.ts                # أدوات مساعدة
│   │   ├── pages/
│   │   │   └── not-found.tsx           # صفحة 404
│   │   ├── App.tsx                     # المكون الجذر
│   │   └── main.tsx                    # نقطة الدخول
│   └── index.html
├── server/                    # الخادم
│   ├── index.ts              # نقطة البداية للسيرفر
│   ├── routes.ts             # مسارات API
│   ├── static.ts             # خدمة الملفات الثابتة
│   ├── storage.ts            # إدارة التخزين
│   └── vite.ts               # إعداد Vite
├── shared/                    # كود مشترك
│   └── schema.ts             # مخططات البيانات
├── package.json              # التبعيات والسيناريوهات
├── tsconfig.json             # إعدادات TypeScript
├── vite.config.ts            # إعدادات Vite
└── tailwind.config.ts        # إعدادات Tailwind
```

---

## كيفية التشغيل

### المتطلبات
- Node.js (الإصدار 18 أو أحدث)
- npm أو yarn

### خطوات التشغيل

1. **تثبيت التبعيات:**
   ```bash
   npm install
   ```

2. **تشغيل السيرفر في وضع التطوير:**
   
   **على Windows (PowerShell):**
   ```powershell
   $env:PORT="3000"; $env:NODE_ENV="development"; npx tsx server/index.ts
   ```
   
   **على Linux/Mac:**
   ```bash
   PORT=3000 NODE_ENV=development npm run dev
   ```

3. **فتح المتصفح:**
   - انتقل إلى `http://localhost:3000`
   - يجب أن ترى واجهة التطبيق

### بناء المشروع للإنتاج

```bash
npm run build
npm start
```

---

## كيفية الاستخدام

### 1. إنشاء متاهة جديدة
- انقر على أي خلية فارغة لتحويلها إلى جدار
- انقر على جدار لإزالته
- استخدم **Shift + Click** لتعيين نقطة البداية
- استخدم **Alt + Click** لتعيين نقطة النهاية

### 2. استخدام متاهة جاهزة
- اختر متاهة من قائمة **PresetSelector** في الشريط الجانبي
- سيتم تحميل المتاهة تلقائياً

### 3. تشغيل الخوارزمية
- انقر على زر **Start** لبدء البحث
- استخدم زر **Pause** للإيقاف المؤقت
- استخدم زر **Step Forward** للخطوة خطوة
- استخدم شريط السرعة لتعديل سرعة التنفيذ

### 4. مراقبة التقدم
- راقب الإحصائيات في اللوحة الجانبية
- شاهد الـ Stack يتغير مع كل خطوة
- لاحظ الألوان المختلفة على الخلايا

### 5. إعادة التعيين
- انقر على **Reset** لإعادة تعيين المتاهة
- انقر على **Clear** لمسح كل الجدران

---

## التصميم

المشروع يتبع **Material Design** مع التركيز على:
- **الوضوح**: كل عنصر يوضح حالة الخوارزمية
- **التفاعل الفوري**: كل إجراء يعطي رد فعل مرئي
- **التركيز التعليمي**: التصميم يدعم التعلم والفهم
- **الاستجابة**: يعمل على جميع أحجام الشاشات

### الألوان
- **البداية**: أخضر
- **النهاية**: أحمر
- **الجدران**: رمادي داكن
- **المزارة**: أزرق فاتح
- **الحالية**: أزرق داكن
- **المسار**: أخضر فاتح
- **التراجع**: رمادي

---

## الهدف التعليمي

هذا المشروع مصمم لمساعدة الطلاب والمطورين على:
- فهم خوارزمية **Depth-First Search (DFS)**
- فهم استخدام **Stack** في الخوارزميات
- فهم مفهوم **Backtracking** (التراجع)
- تصور كيفية عمل خوارزميات البحث
- رؤية الفرق بين الخوارزميات المختلفة

---

## التقنيات المستخدمة

### Frontend
- React 18.3.1
- TypeScript 5.6.3
- Vite 5.4.20
- Tailwind CSS 3.4.17
- Radix UI (مكونات UI)
- Framer Motion 11.13.1
- Wouter 3.3.5 (Routing)
- TanStack Query 5.60.5
- Lucide React (الأيقونات)

### Backend
- Express 4.21.2
- Node.js
- TypeScript
- Vite (للتطوير)

### الأدوات
- tsx (لتشغيل TypeScript مباشرة)
- Drizzle ORM (لإدارة قاعدة البيانات)
- Zod (للتحقق من البيانات)

---

## المساهمة

نرحب بالمساهمات! إذا كنت تريد إضافة ميزات جديدة أو تحسينات:
1. Fork المشروع
2. أنشئ branch جديد (`git checkout -b feature/AmazingFeature`)
3. Commit التغييرات (`git commit -m 'Add some AmazingFeature'`)
4. Push للـ branch (`git push origin feature/AmazingFeature`)
5. افتح Pull Request

---

## الترخيص

هذا المشروع مرخص تحت رخصة MIT.

---

## الدعم

إذا واجهت أي مشاكل أو لديك أسئلة:
- افتح Issue على GitHub
- راجع الوثائق في `design_guidelines.md`

---

## الميزات المستقبلية المحتملة

- [ ] إضافة خوارزميات أخرى (BFS, A*, Dijkstra)
- [ ] إمكانية حفظ المتاهات
- [ ] وضع المنافسة (سباق بين الخوارزميات)
- [ ] إحصائيات متقدمة ومقارنات
- [ ] دعم متاهات أكبر
- [ ] وضع التحدي (إنشاء متاهة صعبة)

---

**تم التطوير بـ ❤️ لمساعدة الطلاب على فهم خوارزميات البحث**

